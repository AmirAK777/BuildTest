import{b as A}from"./chunk-IN3GSI2U.js";import"./chunk-FWA4ZV65.js";import{$a as g,E as u,Eb as B,Fb as w,Hb as G,J as p,Wb as P,Xa as o,Xb as T,Y as s,Ya as C,Za as h,_a as r,aa as d,bb as N,cb as v,cc as q,db as y,fb as F,ga as e,gb as S,ha as t,ia as n,ka as f,kb as E,qb as I,ra as c,va as b,zb as D}from"./chunk-J4QSXUO7.js";import"./chunk-GCD5ODGY.js";import"./chunk-7N27NNS6.js";import"./chunk-NUA2LQHF.js";import"./chunk-FXHXDGTP.js";import"./chunk-G3CV3VGG.js";import"./chunk-OOOHFHRH.js";import"./chunk-XDG22ATE.js";import"./chunk-H5GYM6DM.js";import"./chunk-4WFVMWDK.js";import"./chunk-52SVZWMH.js";import"./chunk-NMYJD6OP.js";import"./chunk-B43CU5JX.js";import"./chunk-TQEIIVVC.js";import"./chunk-LF5XB4YN.js";import"./chunk-KZZABCGY.js";var $=(()=>{class m{constructor(){this.userApplication=u(A),this.formBuilder=u(F),this.contactForm=this.formBuilder.group({personalContact:this.formBuilder.group({email:new r(null,[o.required,o.email]),phoneNumber:new r(null,[o.required,o.pattern(/^\d{10,15}$/)])}),address:this.formBuilder.group({street:new r(null,[o.required]),zipCode:new r(null,[o.required,o.pattern(/^\d{5}$/)]),city:new r(null,[o.required]),country:new r(null,[o.required])})})}ngOnInit(){let a=this.userApplication.customer();if(a?.contactDetails&&a.address){let l=a.contactDetails,i=a.address;this.contactForm.patchValue({personalContact:{email:l.email,phoneNumber:l.phoneNumber},address:{street:i.street,zipCode:i.zipCode,city:i.city,country:i.country}})}}submitToSave(){console.log(this.contactForm.get("address")?.value),this.userApplication.updateContactDetails(this.contactForm.get("personalContact")?.value),this.userApplication.updateAddress(this.contactForm.get("address")?.value)}get isValid(){return this.contactForm.valid}static{this.\u0275fac=function(l){return new(l||m)}}static{this.\u0275cmp=p({type:m,selectors:[["clovis-contact-details"]],standalone:!0,features:[b],decls:23,vars:3,consts:[["collapse","fade"],["text","","slot","start","defaultHref","/home"],[1,"ion-padding","settings",3,"fullscreen"],[3,"submit","formGroup"],["formGroupName","personalContact"],["fill","solid","label","Email","formControlName","email","labelPlacement","floating"],["fill","solid","label","T\xE9l\xE9phone portable","formControlName","phoneNumber","labelPlacement","floating"],["formGroupName","address"],["fill","solid","label","N\xB0 et libelle de la voie","formControlName","street","labelPlacement","floating"],["fill","solid","label","Lieu dit/Commune","formControlName","city","labelPlacement","floating"],["fill","solid","label","Code postal","formControlName","zipCode","labelPlacement","floating"],["fill","solid","label","Pays","formControlName","country","labelPlacement","floating"],["type","submit","expand","block",1,"clovis",3,"disabled"]],template:function(l,i){l&1&&(e(0,"ion-header",0)(1,"ion-toolbar")(2,"ion-title"),c(3,"Coordonn\xE9es"),t(),n(4,"ion-back-button",1),t()(),e(5,"ion-content",2)(6,"form",3),f("submit",function(){return i.submitToSave()}),e(7,"ion-list",4)(8,"ion-item"),n(9,"ion-input",5),t(),e(10,"ion-item"),n(11,"ion-input",6),t()(),e(12,"ion-list",7)(13,"ion-item"),n(14,"ion-input",8),t(),e(15,"ion-item"),n(16,"ion-input",9),t(),e(17,"ion-item"),n(18,"ion-input",10),t(),e(19,"ion-item"),n(20,"ion-input",11),t()(),e(21,"ion-button",12),c(22,"Valider"),t()()()),l&2&&(s(5),d("fullscreen",!0),s(),d("formGroup",i.contactForm),s(15),d("disabled",!i.isValid))},dependencies:[B,T,P,D,E,q,G,w,I,S,g,C,h,N,y,v]})}}return m})();export{$ as ContactDetailsComponent};
